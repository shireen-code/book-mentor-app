{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shireen\\\\Downloads\\\\Book-Mentor-main\\\\Book-Mentor-main\\\\src\\\\components\\\\Scheduler.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport moment from 'moment';\nimport { Modal } from \"react-bootstrap\";\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport Form from \"react-bootstrap/Form\";\nimport Col from \"react-bootstrap/Col\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport Button from \"react-bootstrap/Button\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst buttonStyle = {\n  marginRight: 10,\n  marginTop: 10\n};\nconst localizer = momentLocalizer(moment);\n\nconst Scheduler = () => {\n  _s();\n\n  const [events, setEvents] = useState([]);\n  const [showAddModal, setShowAddModal] = React.useState(false);\n  const [start, setStart] = React.useState(null);\n  const [end, setEnd] = React.useState(null);\n  const [reason, setReason] = React.useState(\"\");\n\n  const handleStartChange = date => setStart(date);\n\n  const handleEndChange = date => setEnd(date);\n\n  const handleReasonChange = ev => setReason(ev.target.value);\n\n  useEffect(() => {\n    async function fetchEvents() {\n      const res = await fetch('https://private-37dacc-cfcalendar.apiary-mock.com/mentors/1/agenda');\n      res.json().then(res => {\n        todos = res;\n        console.log(res);\n        setEvents(res.calendar);\n      }).catch(err => console.log(err));\n    }\n\n    fetchEvents();\n  }, []);\n\n  const hideModals = () => {\n    setShowAddModal(false);\n  };\n\n  const event = events.map((slot, index) => {\n    return {\n      'allDay': false,\n      'start': moment.utc(slot.date_time).toDate(),\n      'end': moment.utc(slot.date_time).add(60, 'minutes').toDate(),\n      'reason': ''\n    };\n  });\n\n  const handleSelect = event => {\n    setShowAddModal(true);\n    let {\n      start,\n      end,\n      reason\n    } = event;\n    start = new Date(start);\n    end = new Date(end);\n    const data = {\n      start,\n      end,\n      reason\n    };\n    setStart(data.start);\n    setEnd(data.end);\n    setReason(data.reason);\n  };\n\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const data = {\n      start,\n      end,\n      reason\n    };\n    const requestOptions = {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    };\n    const response = await fetch('https://book-mentor.herokuapp.com/event', requestOptions);\n    const result = await response.json();\n    console.log(result);\n    hideModals();\n    alert(`Time-${result.start},\n        Reason-${result.reason}`);\n  };\n\n  const minTime = new Date();\n  minTime.setHours(6, 0, 0);\n  const maxTime = new Date();\n  maxTime.setHours(22, 0, 0);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"text-center text-primary pb-3 pt-2\",\n      children: \" Book A Mentor \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Modal, {\n      show: showAddModal,\n      onHide: hideModals,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Book A Call\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Form, {\n          noValidate: true,\n          onSubmit: handleSubmit,\n          children: [/*#__PURE__*/_jsxDEV(Form.Row, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              md: \"12\",\n              controlId: \"start\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Start\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 102,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n                showTimeSelect: true,\n                className: \"form-control\",\n                selected: start,\n                onChange: handleStartChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 104,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              md: \"12\",\n              controlId: \"end\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"End\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 114,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 115,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(DatePicker, {\n                showTimeSelect: true,\n                className: \"form-control\",\n                selected: end,\n                onChange: handleEndChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Row, {\n            children: /*#__PURE__*/_jsxDEV(Form.Group, {\n              as: Col,\n              md: \"12\",\n              controlId: \"reason\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n                children: \"Reason\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n                type: \"text\",\n                name: \"reason\",\n                placeholder: \"Reason\",\n                value: reason || \"\",\n                onChange: handleReasonChange,\n                isInvalid: !reason\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 127,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                children: !reason\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 125,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 124,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Button, {\n            type: \"submit\",\n            style: buttonStyle,\n            children: \"Confirm Call\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 99,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Calendar, {\n      events: event,\n      formats: {\n        dateFormat: 'yyyy, mm, dd'\n      },\n      step: 60,\n      localizer: localizer,\n      style: {\n        height: '100vh'\n      },\n      min: minTime,\n      max: maxTime,\n      views: ['week'],\n      defaultView: \"week\",\n      selectable: true,\n      startAccessor: \"start\",\n      endAccessor: \"end\",\n      onSelectEvent: handleSelect\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 90,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Scheduler, \"AgF7Q0YFXpPbzmHQrpYQXeGbzY0=\");\n\n_c = Scheduler;\nexport default Scheduler;\n\nvar _c;\n\n$RefreshReg$(_c, \"Scheduler\");","map":{"version":3,"sources":["C:/Users/Shireen/Downloads/Book-Mentor-main/Book-Mentor-main/src/components/Scheduler.js"],"names":["React","useEffect","useState","Calendar","momentLocalizer","moment","Modal","Form","Col","DatePicker","Button","buttonStyle","marginRight","marginTop","localizer","Scheduler","events","setEvents","showAddModal","setShowAddModal","start","setStart","end","setEnd","reason","setReason","handleStartChange","date","handleEndChange","handleReasonChange","ev","target","value","fetchEvents","res","fetch","json","then","todos","console","log","calendar","catch","err","hideModals","event","map","slot","index","utc","date_time","toDate","add","handleSelect","Date","data","handleSubmit","e","preventDefault","requestOptions","method","headers","body","JSON","stringify","response","result","alert","minTime","setHours","maxTime","dateFormat","height"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { Calendar, momentLocalizer } from 'react-big-calendar';\nimport moment from 'moment';\nimport { Modal } from \"react-bootstrap\";\nimport 'react-big-calendar/lib/css/react-big-calendar.css';\nimport Form from \"react-bootstrap/Form\";\nimport Col from \"react-bootstrap/Col\";\nimport DatePicker from \"react-datepicker\";\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport Button from \"react-bootstrap/Button\";\n\nconst buttonStyle = { marginRight: 10, marginTop: 10 };\n\nconst localizer = momentLocalizer(moment);\n\nconst Scheduler = () => {\n  const [events, setEvents] = useState([]);\n  const [showAddModal, setShowAddModal] = React.useState(false);\n  const [start, setStart] = React.useState(null);\n  const [end, setEnd] = React.useState(null);\n  const [reason, setReason] = React.useState(\"\");\n\n  const handleStartChange = date => setStart(date);\n  const handleEndChange = date => setEnd(date);\n  const handleReasonChange = ev => setReason(ev.target.value);\n  \n  useEffect(() => {\n    async function fetchEvents() {\n      const res = await fetch('https://private-37dacc-cfcalendar.apiary-mock.com/mentors/1/agenda');\n      res\n        .json()\n        .then(res => \n          {\n            todos = res;\n            console.log(res);\n            setEvents(res.calendar)\n\n          })\n        .catch(err => console.log(err));\n    }\n    fetchEvents();\n  }, []);\n\n  const hideModals = () => {\n    setShowAddModal(false);\n  };\n\n  const event = events.map((slot, index) => {\n    return  {\n      'allDay': false,\n      'start': moment.utc(slot.date_time).toDate(),\n      'end': moment.utc(slot.date_time).add(60, 'minutes').toDate(),\n      'reason': ''\n    }\n  })\n\n  const handleSelect = (event) => {\n    setShowAddModal(true);\n    let { start, end, reason } = event;\n    start = new Date(start);\n    end = new Date(end);\n    const data = { start, end, reason };\n    setStart(data.start);\n    setEnd(data.end);\n    setReason(data.reason);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    const data = { start, end, reason };\n    const requestOptions = {\n      method: 'POST',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(data)\n    };\n    const response = await fetch('https://book-mentor.herokuapp.com/event', requestOptions);\n    const result = await response.json();\n    console.log(result);\n    hideModals();\n    alert(`Time-${result.start},\n        Reason-${ result.reason}`)\n  }\n\n  const minTime = new Date();\n  minTime.setHours(6,0,0);\n  const maxTime = new Date();\n  maxTime.setHours(22,0,0);\n\n  return (\n    <div>\n      <h2 className='text-center text-primary pb-3 pt-2'> Book A Mentor </h2>\n      <Modal \n        show={showAddModal} \n        onHide={hideModals}>\n        <Modal.Header closeButton>\n          <Modal.Title>Book A Call</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Form noValidate onSubmit={handleSubmit}>\n            <Form.Row>\n              <Form.Group as={Col} md=\"12\" controlId=\"start\">\n                <Form.Label>Start</Form.Label>\n                <br />\n                <DatePicker\n                  showTimeSelect\n                  className=\"form-control\"\n                  selected={start}\n                  onChange={handleStartChange}\n                />\n              </Form.Group>\n            </Form.Row>\n            <Form.Row>\n              <Form.Group as={Col} md=\"12\" controlId=\"end\">\n                <Form.Label>End</Form.Label>\n                <br />\n                <DatePicker\n                  showTimeSelect\n                  className=\"form-control\"\n                  selected={end}\n                  onChange={handleEndChange}\n                />\n              </Form.Group>\n            </Form.Row>\n            <Form.Row>\n              <Form.Group as={Col} md=\"12\" controlId=\"reason\">\n                <Form.Label>Reason</Form.Label>\n                <Form.Control\n                  type=\"text\"\n                  name=\"reason\"\n                  placeholder=\"Reason\"\n                  value={reason || \"\"}\n                  onChange={handleReasonChange}\n                  isInvalid={!reason}\n                />\n                <Form.Control.Feedback type=\"invalid\">{!reason}</Form.Control.Feedback>\n              </Form.Group>\n            </Form.Row>\n            <Button type=\"submit\" style={buttonStyle}>\n              Confirm Call\n            </Button>\n          </Form>\n        </Modal.Body>\n      </Modal>  \n      <Calendar\n        events ={event}\n        formats={{ dateFormat: 'yyyy, mm, dd' }}\n        step={60}\n        localizer={localizer}\n        style={{ height: '100vh' }}\n        min = {minTime}\n        max = {maxTime}\n        views={['week']}\n        defaultView='week'\n        selectable={true}\n        startAccessor='start'\n        endAccessor='end'\n        onSelectEvent={handleSelect}\n      />\n    </div>\n  )\n}\n\nexport default Scheduler;\n"]},"metadata":{},"sourceType":"module"}